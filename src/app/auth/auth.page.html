<ion-header>  
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title class="title">{{ isLogin ? 'Login' : 'Signup'}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding class="background overlay">
  <form #f="ngForm" (ngSubmit)="onSubmit(f)">
    <ion-grid>
      <ion-row>
        <ion-col size="4" class="first-column">
          <div>     
            <ion-card class="background-class">               
              <ion-list class="description">
                <ion-item>
                  <span><small>View the latest Blogs and Stories</small></span>
                </ion-item>
                <ion-item>
                  <span><small>Chat with friends in realtime</small></span>
                </ion-item>
                <ion-item>
                  <span><small>View Places of Interest local to you</small></span>
                </ion-item>
                <ion-item>
                  <span><small>Participate in Quiz and win prizes</small></span>
                </ion-item>
                <ion-item>
                  <span><small>View Events Local to you</small></span>
                </ion-item>
              </ion-list>                             
            </ion-card>       
            <ion-card *ngIf="!isLogin">
              <ion-item>
                <ion-infinite-scroll>                      
                  <ion-content  class="terms-class">
                    <app-terms></app-terms>
                  </ion-content>                    
                </ion-infinite-scroll>
              </ion-item>                    
            </ion-card>
            <ion-card *ngIf="!isLogin">              
              <ion-item>
                <ion-label><small class="blue-class">I agree to terms and conditions</small></ion-label>
                <ion-checkbox slot="end" [(ngModel)]="terms" #termsCtrl="ngModel" name="terms"></ion-checkbox>
              </ion-item>                                  
            </ion-card>           
          </div>
        </ion-col>
        <ion-col size-sm="12" size-md="8" size-lg="8">
          <div>
            <ion-card class="hide-class">               
              <ion-list class="description">
                <ion-item>
                  <span><small>View the latest Blogs and Stories</small></span>
                </ion-item>
                <ion-item>
                  <span><small>Chat with friends in realtime</small></span>
                </ion-item>
                <ion-item>
                  <span><small>View Places of Interest local to you</small></span>
                </ion-item>
                <ion-item>
                  <span><small>Participate in Quiz and win prizes</small></span>
                </ion-item>
                <ion-item>
                  <span><small>View Events Local to you</small></span>
                </ion-item>
              </ion-list>                             
            </ion-card>
          </div>
          <ion-list class="decorate">
            <ion-item *ngIf="!isLogin">
              <ion-label position="floating">First Name</ion-label>
              <ion-input type="text" ngModel name="firstname" 
              required minlength="2"
              #firstnameCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item *ngIf="!isLogin">
              <ion-label position="floating">Last Name</ion-label>
              <ion-input type="text" ngModel name="lastname" 
              required minlength="2"
              #lastnameCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">E-Mail</ion-label>
              <ion-input type="email" ngModel name="email" 
              required email
              #emailCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item line="none" *ngIf="!emailCtrl.valid && emailCtrl.touched">
              <ion-label>Should be a valid email address</ion-label>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input type="password" ngModel name="password"
               required minlength="6"
               #passwordCtrl="ngModel"></ion-input>
            </ion-item>
            <ion-item line="none" *ngIf="!passwordCtrl.valid && passwordCtrl.touched">
              <ion-label>Should be a at least 6 characters long</ion-label>
            </ion-item>
            <ion-item *ngIf="!isLogin">
              <ion-label position="floating">Confirm Password</ion-label>
              <ion-input type="password" ngModel name="confirmpassword"
               required minlength="6"
               #confirmPasswordCtrl="ngModel"></ion-input>
            </ion-item>
            
          </ion-list>

          <ion-row class="hide-class">
              <ion-col>
                <div>            
                  <ion-card *ngIf="!isLogin">
                    <ion-item>
                      <ion-infinite-scroll>                      
                        <ion-content  class="terms-class">
                          <app-terms></app-terms>
                          
                        </ion-content>                    
                      </ion-infinite-scroll>
                    </ion-item>                    
                  </ion-card>
                  <ion-card *ngIf="!isLogin">              
                    <ion-item>
                      <ion-label><small class="blue-class">I agree to terms and conditions</small></ion-label>
                      <ion-checkbox slot="end" [(ngModel)]="terms" #termsCtrl="ngModel" name="terms"></ion-checkbox>
                    </ion-item>                                  
                  </ion-card>           
                </div>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size-sm="6" offset-sm="3">
                <ion-button type="button" class="b1"
                fill="clear" expand="block"
                (click)="onSwitchAuthMode()">Switch to {{ isLogin ? 'Signup' : 'Login' }}</ion-button>
                <ion-button type="submit" class="b2"
                expand="block"
                [disabled]="!f.valid">
                  {{ isLogin ? 'Login' : 'Signup' }}
                </ion-button>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size-sm="6" offset-sm="3" class="ion-text-center">
                <ion-card-subtitle><a href="/request-reset">Reset Password</a></ion-card-subtitle>
                <ion-row align-items-start>
                  <ion-col>                            
                    <ion-text color="primary"><i><a href="https://play.google.com/store/apps/details?id=co.uk.uknowappand.www"><span><img src="../../assets/background-images/playstore_image.png"></span><small>Download the free mobile app for the quiz</small></a></i></ion-text> 
                  </ion-col>                   
                </ion-row>
              </ion-col>
            </ion-row>
        </ion-col>
      </ion-row>     
            
    </ion-grid>  
    <div text-center>
      <ion-spinner color="primary" *ngIf="isLoading"></ion-spinner>
    </div>  
  </form> 
</ion-content>
